---
import Header from "@components/Header.astro";
import ArtifactModal from "@components/ArtifactModal.astro";
---

<Header />
<div class="min-h-screen bg-gradient-to-b from-black to-slate-900 text-white">
  <div class="max-w-5xl mx-auto px-6 py-12 space-y-12">
    <!-- Hero Panel -->
    <div class="glass-panel text-center mt-24" x-data="{commits: 19, artifacts: 12, lastSync: '2026-01-02', loading: false, refresh() { this.loading = true; setTimeout(() => { this.commits += 1; this.artifacts += 1; this.lastSync = new Date().toISOString().slice(0,10); this.loading = false; }, 800); } }">
      <h1 class="text-5xl font-bold mb-6">MKP-TRI — Living Codex</h1>
      <p class="text-xl mb-8">MKP-TRI is a sovereign platform for mythic operations, blending AI, art, and transparency. Explore cycles of creation where every artifact is verifiable.</p>
      <div class="grid grid-cols-3 gap-4 text-lg mb-4">
        <div>Commits: <span x-text="commits"></span></div>
        <div>Last Sync: <span x-text="lastSync"></span></div>
        <div>Artifacts: <span x-text="artifacts"></span></div>
      </div>
      <button @click="refresh" :disabled="loading" class="mt-2 px-4 py-2 rounded bg-cyan-600 hover:bg-cyan-500 transition text-white font-mono text-sm disabled:opacity-50">
        <span x-show="!loading">Refresh Stats</span>
        <span x-show="loading" class="animate-pulse">Refreshing...</span>
      </button>
    </div>

    <!-- Sub-Dashboard Cards (Flowbite Cards) -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <a href="/operations/" class="glass-panel p-6 hover:scale-105 transition-transform">
        <h3 class="text-2xl mb-2">Operations Terminal</h3>
        <p>Run stubs, view pipelines.</p>
      </a>
      <a href="/gallery/" class="glass-panel p-6 hover:scale-105 transition-transform">
        <h3 class="text-2xl mb-2">Gallery Dashboard</h3>
        <p>Filter & view 12+ artifacts.</p>
        <div class="mt-4"><ArtifactModal /></div>
      </a>
      <a href="/transparency/" class="glass-panel p-6 hover:scale-105 transition-transform">
        <h3 class="text-2xl mb-2">Transparency Dashboard</h3>
        <p>Provenance, CI/CD, commit graph.</p>
      </a>
      <a href="/omni/" class="glass-panel p-6 hover:scale-105 transition-transform">
        <h3 class="text-2xl mb-2">Omni Dashboard</h3>
        <p>Ingress ideas via LLM Engine.</p>
      </a>
      <a href="/codex/" class="glass-panel p-6 hover:scale-105 transition-transform">
        <h3 class="text-2xl mb-2">Codex Dashboard</h3>
        <p>Cycles, artifacts, checkpoints.</p>
      </a>
    </div>

    <!-- Quick Sections Panel -->
    <div class="glass-panel">
      <h2 class="text-3xl mb-6">Core Pillars</h2>
      <div class="grid md:grid-cols-3 gap-8">
        <div><h3 class="text-xl">Codex</h3><p>Chronological ceremonies, artifacts, checkpoints.</p></div>
        <div><h3 class="text-xl">Omni</h3><p>Idea ingress, mythic systems, AI console.</p></div>
        <div><h3 class="text-xl">Transparency</h3><p>Deployment state, provenance, CI/CD lineage.</p></div>
      </div>
    </div>

    <!-- Featured Artifacts Stack -->
    <div class="glass-panel">
      <h2 class="text-3xl mb-6">Featured Artifacts</h2>
      <div class="space-y-6">
        <div class="bg-white/5 p-6 rounded-xl">Cycle Alpha: Genesis of the Codex – A ceremonial blueprint for inspectable architecture.</div>
        <div class="bg-white/5 p-6 rounded-xl">Cycle Beta: Edge Worker Ceremony – Binding edge logic to sovereign transparency.</div>
        <div class="bg-white/5 p-6 rounded-xl">Cycle Gamma: Mythic Sync – Synchronizing mythic state with verifiable checkpoints.</div>
      </div>
    </div>

    <!-- Latest Updates Panel -->
    <div class="glass-panel">
      <h2 class="text-3xl mb-6">Latest Updates</h2>
      <ul class="space-y-4">
        <li>• Gallery Expansion – #visual #artifacts</li>
        <li>• Omni Console Launched – #ai #console</li>
        <li>• Codex Birth – #genesis #archive</li>
      </ul>
    </div>

    <!-- About Panel -->
    <div class="glass-panel">
      <h2 class="text-3xl mb-6">About MKP-TRI</h2>
      <p>In the ether of digital sovereignty, MKP-TRI emerges as a beacon for mythic operations. Every cycle, ceremony, and artifact is bound to a verifiable checkpoint, ensuring eternal inspectability. The Living Codex is not just a record—it's a living, breathing archive of creation, where AI, art, and transparency converge. From the genesis of the Codex to the latest edge worker deployments, each event is a sovereign act, witnessed and preserved. Join the journey—explore, inspect, and contribute to the mythic evolution of MKP-TRI.</p>
    </div>
  </div>
</div>
